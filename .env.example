PORT=3000

# template: danser wrapper (recommended for full osu! map renders)
# native: real mp4 render from .osr cursor timeline (cursor/HUD only; requires ffmpeg + Python 3)
# mock: creates a fake video job for UI/testing
RENDERER_MODE=template

# Used when RENDERER_MODE=template.
# Available placeholders:
# {{jobId}}, {{title}}, {{replay}}, {{replay_q}}, {{skinZip}}, {{skinZip_q}},
# {{skinDir}}, {{skinDir_q}}, {{beatmap}}, {{beatmap_q}},
# {{outputDir}}, {{outputDir_q}}, {{outputVideo}}, {{outputVideo_q}},
# {{videoWidth}}, {{videoHeight}}, {{videoFps}}, {{musicVolume}}, {{hitsoundVolume}},
# {{danserJobSPatchJson}}, {{danserJobSPatchJson_q}}, {{danserJobSPatchB64}}, {{danserJobSPatchB64_q}}, {{danserSkipIntro}}
# Default wrapper for danser (PowerShell / Windows):
RENDER_COMMAND_TEMPLATE=powershell -ExecutionPolicy Bypass -File scripts\\render-danser.ps1 -Replay {{replay_q}} -SkinDir {{skinDir_q}} -Beatmap {{beatmap_q}} -Output {{outputVideo_q}} -VideoWidth {{videoWidth}} -VideoHeight {{videoHeight}} -VideoFps {{videoFps}} -MusicVolume {{musicVolume}} -HitsoundVolume {{hitsoundVolume}} -JobSPatchB64 {{danserJobSPatchB64_q}} -SkipIntro {{danserSkipIntro}}

# File upload limit for a single file (MB)
MAX_FILE_SIZE_MB=512

# danser wrapper config
DANSER_CLI_PATH=
DANSER_WORKDIR=
DANSER_SETTINGS_PROFILE=default
# Optional local osu! Songs folder (lets danser render without beatmap upload if the map exists locally)
# Example: C:\\Users\\<you>\\AppData\\Local\\osu!\\Songs
DANSER_OSU_SONGS_DIR=
DANSER_SPATCH_JSON=
FFMPEG_PATH=
DANSER_NOUPDATECHECK=1
DANSER_NODB_CHECK=1
DANSER_KEEP_TEMP=0

# Optional beatmap auto-download fallback (for Docker / no local Songs mount)
# Uses replay beatmapHash and tries configured mirror URLs in order.
# Example template (mirror-dependent): https://example-mirror.local/download/{beatmapHash}
BEATMAP_AUTODOWNLOAD_ENABLED=0
BEATMAP_AUTODOWNLOAD_URL_TEMPLATES=
BEATMAP_AUTODOWNLOAD_TIMEOUT_MS=25000
BEATMAP_AUTODOWNLOAD_MAX_MB=300
BEATMAP_AUTODOWNLOAD_USER_AGENT=ReplayStudioBeatmapFetcher/1.0
